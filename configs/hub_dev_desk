# Development test environment

# desktop or hub install? (True/False)
+DESKTOP True

# anaconda version to start with
+VERSION 2018.12

# name to call it when installed: anaconda2-$RVERSION
+RVERSION dev

++ DONE

# common packages for python2 and python3
# columns are:
# package version {conda|pip} [channel_name]
# Use '*' for any version

# Initial Update
!conda update -y --all

nodejs 10.13.0 conda
r-essentials 3.5.1 conda
ffmpeg 4.0 conda
mysql 5.7.24 conda
pymysql 0.9.3 conda
mysql-connector-python 8.0.13 conda

pint 0.9 conda conda-forge
qgrid 1.1.1 conda conda-forge
!jupyter labextension install qgrid
oct2py 4.0.6 conda conda-forge
celery 4.2.1 conda conda-forge
gmaps 0.8.4 conda conda-forge
ipyleaflet 0.9.2 conda conda-forge
bagit 1.7.0 conda conda-forge
ipyvolume 0.5.1  conda conda-forge
lmfit 0.9.12 conda conda-forge
phonopy 2.0.0 conda conda-forge
mdtraj 1.9.2 conda conda-forge
mdanalysis 0.19.2 conda conda-forge
mdanalysistests 0.19.2 conda conda-forge
openbabel 2.4.1 conda openbabel

nglview 1.1.8 pip
!jupyter-nbextension enable nglview --py --sys-prefix
black 18.9b0 pip
mendeleev 0.4.4 pip
yamlmagic 0.2.0 pip
mapboxgl 0.10.0 pip
moviepy 0.2.3.5 pip
imolecule 0.1.13 pip
ezvis3d 0.2.5 pip
py3dmol 0.8.0 pip
papermill 0.18.1 pip
k3d 2.5.0 pip
atomman 1.2.4 pip
imutils 0.5.2 pip
pygal 2.4.0 pip
mdf-forge 0.6.6 pip
chemspipy 2.0.0 pip
citrination-client 4.9.2 pip
itkwidgets 0.16.1 pip
matminer 0.5.2 pip
avogadro 1.92.1 pip
openchemistry 0.0.11 pip
tensorflow     1.13.0rc2 pip
keras 2.2.4 pip

# nbnovnc for hubzero
#git+https://github.com/martin-hunt/nbnovnc.git * pip

# joommf
discretisedfield 0.8.3 pip
joommfutil 0.8.4 pip
micromagneticmodel 0.8.4 pip
oommfc 0.8.8 pip
oommfodt 0.8.4 pip

# database stuff
cymysql 0.9.13 pip
mysqlclient 1.4.2 pip
sshtunnel 0.1.4 pip

appmode 0.5.0 pip
!jupyter nbextension     enable --py --sys-prefix appmode
!jupyter serverextension enable --py --sys-prefix appmode

vtk 8.1.2 pip
hublib 0.9.26 pip
plotly 3.6.1 pip
ipysheet 0.2.1 pip
!jupyter labextension install ipysheet

ipyaggrid 0.1.11 pip
!jupyter nbextension enable --py --sys-prefix ipyaggrid
#!jupyter labextension install ipyaggrid  BROKEN
!jupyter labextension install @jupyter-widgets/jupyterlab-manager

jupyterlab_iframe 0.0.11 pip
!jupyter labextension install jupyterlab_iframe
!jupyter serverextension enable --py jupyterlab_iframe

Jupyter-Video-Widget 0.3.1 pip
jupyterlab-latex 0.4.1 pip
!jupyter labextension install @jupyterlab/latex
!jupyter labextension install itk-jupyter-widgets
!jupyter labextension install @jupyterlab/geojson-extension
!jupyter-labextension install nglview-js-widgets
!jupyter labextension install @jupyterlab/plotly-extension
!jupyter labextension install plotlywidget
!jupyter labextension install @jupyterlab/vega3-extension
!jupyter labextension install jupyter-matplotlib
!jupyter labextension install jupyterlab_3Dmol
#jupyter labextension install jupyterlab-spreadsheet BROKEN
#!jupyter labextension install jupyterlab_filetree BROKEN??
!NODE_OPTIONS=--max-old-space-size=16384 jupyter labextension install @openchemistry/jupyterlab
!jupyter labextension install k3d

# merged into 1.0a
!jupyter labextension install @mflevine/jupyterlab_html

# plotly dash
#dash 0.36.0 pip
#dash-renderer 0.17.0 pip
#dash-html-components 0.13.5 pip
#dash-core-components 0.43.0 pip
#dash-daq 0.1.0 pip
#dash-table 3.4.0 pip
#dash-cytoscape 0.0.4 pip
#jupyter-plotly-dash 0.2.0 pip

# Jupyter Snippets (Boilerplate Code) Menu
!git clone  https://github.com/moble/jupyter_boilerplate.git /tmp/jupyter_snippets
!jupyter nbextension install --sys-prefix /tmp/jupyter_snippets
!jupyter nbextension enable --sys-prefix jupyter_snippets/main
!rm -rf /tmp/jupyter_snippets

# PYTHON2
# Now (optionally) install Python 2
!conda create -y --name Python2 python=2.7 anaconda
!source activate Python2
!conda install -y -n Python2 ffmpeg mysql pymysql mysql-connector-python
!conda install -y -n Python2 -c defaults -c conda-forge pint qgrid celery gmaps ipyleaflet bagit ipyvolume lmfit phonopy mdtraj mdanalysis mdanalysistests rdkit
!conda install -y -n Python2 -c defaults -c openbabel openbabel
#!conda install -y -n Python2 -c defaults -c pycalphad -c msys2 -c conda-forge pycalphad espei
!pip install -U --upgrade-strategy only-if-needed nglview mendeleev yamlmagic mapboxgl moviepy imolecule ezvis3d py3dmol papermill
!pip install -U --upgrade-strategy only-if-needed k3d atomman imutils pygal mdf-forge chemspipy citrination-client itkwidgets matminer 
!pip install -U --upgrade-strategy only-if-needed tensorflow keras
!pip install -U --upgrade-strategy only-if-needed cymysql mysqlclient sshtunnel 
!pip install -U --upgrade-strategy only-if-needed vtk hublib plotly ipysheet ipyaggrid
!source deactivate Python2
